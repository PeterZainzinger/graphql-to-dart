t.intersection([
  t.type({
  {{#each this}}{{#if isRequired}}  {{ name }}: {{#if isArray}}t.array({{/if}}{{ iotsPrimitive type ../typeName }}{{#if isArray}}){{/if}},
  {{/if}}{{/each~}} }),
  t.partial({
  {{#each this}}{{#if name }}{{#unless isRequired}}  {{ name }}: t.union([ {{#if isArray}}t.array({{/if}}{{ iotsPrimitive type ../name }}{{#if isArray}}){{/if}}, t.null ]),
  {{/unless}}{{/if}}{{/each~}} })
], '{{ typeName }}')
